<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Recibo LayAway</title>
  <style>
    body { font-family: monospace; margin:0; padding:8px; }
    .receipt { width:280px; margin:auto; white-space: pre-wrap; }
    .header { text-align:center; font-size:1.2em; font-weight:bold; }
    .line   { border-top:1px dashed #000; margin:4px 0; }
    .field  { display:flex; justify-content:space-between; }
    .footer { text-align:center; margin-top:6px; font-size:0.9em; }
  </style>
  <script>
    // 1) Leer parámetros individuales
    const p = new URLSearchParams(location.search);
    const key   = p.get('layawaykey') || '';
    const name  = p.get('name')       || '';
    const phone = p.get('phone')      || '';
    const date  = p.get('startdate')  || '';
    const total = p.get('totalamt')   || '';
    const notas = p.get('notas')      || '';

    // 2) Construir bloque plano para RawBT
    const block =
`╔════════════════════╗
║      LAYAWAY       ║
╚════════════════════╝
Key:       ${key}
Cliente:   ${name}
Teléfono:  ${phone}
Fecha:     ${date}
Monto:     S/${total}
Notas:     ${notas}

`;

    // 3) Redirigir a RawBT _sin_ pintar más contenido
    window.location.replace(
      "rawbt://print?contentType=raw&content=" 
      + encodeURIComponent(block)
    );
  </script>
</head>
<body>
  <!-- Este texto no se mostrará porque redirige al instante -->
</body>
</html>
